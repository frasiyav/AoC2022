âŸ¨lf, Split, Trim, ToNatsâŸ© â† â€¢Import "bqn-libs/strings.bqn"

initâ€¿moves â† (Â¯1â†“lf Split âŠ¢)Â¨(lfâˆ¾lf)Split â€¢file.Chars "input05.txt"
init â†© TrimÂ¨<Ë˜â‰>(1+4Ã—â†•9)âŠ¸âŠÂ¨init
moves â†© (0â€¿1â€¿1-ËœToNats)Â¨moves

_Move â† {nâ€¿aâ€¿bâ†ğ•¨ â‹„ (nâŠ¸â†“â‹ˆâŠ£âˆ¾ËœÂ·ğ”½nâŠ¸â†‘)ËœÂ´âŒ¾(aâ€¿bâŠ¸âŠ)ğ•©}

â€¢Show {âŠ‘Â¨ init ğ•_MoveÂ´âŒ½ moves}Â¨âŒ½â€¿âŠ¢


# Array based solution
nâ€¿aâ€¿bâ†<Ë˜â‰>moves
oâ†|0âŒŠ1+dâ†nÃ—Ã—b-a
câ†â†•â‰ init
uâ†nÃ—â‰(c>âŒœb)-(c>âŒœa)
i â† â†•â‰ âˆ¾init
R â† â‰ â—‹(iâŠ¸>)Â´âŠ¢-<Â´

F â† {ğ•Š rev:
  arrâ†âˆ¾init
  gâ†Â»+`â‰ Â¨init
  Move â† {uğ•Šnâ€¿aâ€¿bâ€¿dâ€¿o:
    fâ†aâŠg
    tâ†bâŠg+â†©u
    mâ†R 0â€¿n+t
    pâ†i
    p+â†©mÃ—f-t
    p+â†©dÃ—R fâ€¿t+o
    p+â†©revâ—¶âŸ¨0,âŠ¢Ã—+`âŒ¾âŒ½-+`âŸ©m
    arrâ†©pâŠarr
  }
  u MoveË˜â‰>nâ€¿aâ€¿bâ€¿dâ€¿o
  gâŠarr
}

â€¢Show FÂ¨1â€¿0
