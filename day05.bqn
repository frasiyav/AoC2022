âŸ¨lf, Split, Trim, ToNatsâŸ© â† â€¢Import "bqn-libs/strings.bqn"

initâ€¿moves â† (Â¯1â†“lf Split âŠ¢)Â¨(lfâˆ¾lf)Split â€¢file.Chars "input05.txt"
init â†© TrimÂ¨<Ë˜â‰>(1+4Ã—â†•9)âŠ¸âŠÂ¨init
moves â†© (0â€¿1â€¿1-ËœToNats)Â¨moves

_Move â† {nâ€¿aâ€¿bâ†ğ•¨ â‹„ (nâŠ¸â†“â‹ˆâŠ£âˆ¾ËœÂ·ğ”½nâŠ¸â†‘)ËœÂ´âŒ¾(aâ€¿bâŠ¸âŠ)ğ•©}

â€¢Show {âŠ‘Â¨ init ğ•_MoveÂ´âŒ½ moves}Â¨âŒ½â€¿âŠ¢


# Array based solution
a â† âˆ¾init
c â† Â»+`â‰ Â¨init
i â† â†•â‰ a
R â† â‰ â—‹(iâŠ¸>)Â´âŠ¢-<Â´
G â† -ËœÂ´(â†•â‰ init)âŠ¸>Â¨

_F â† {nâ€¿aâ€¿b rev _ğ•£ sâ€¿arr:
  dâ†Ã—b-a
  fâ†aâŠs
  tâ†bâŠs+â†©nÃ—G aâ€¿b
  pâ†i+(f-t)Ã—zâ†R 0â€¿n+t
  p+â†©nÃ—dÃ—R fâ€¿t+(d<0)Ã—n-1
  p+â†©revÃ—(âŠ¢Ã—+`âŒ¾âŒ½-+`)z
  sâ‹ˆpâŠarr
}

â€¢Show {âŠÂ´câ€¿a ğ•© _FÂ´âŒ½ moves}Â¨1â€¿0
